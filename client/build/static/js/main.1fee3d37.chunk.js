(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{178:function(e,t,a){},179:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),s=a(25),o=a(20),l=a(9),j=a.n(l),u=a(15),d=a(5),b=a(224),h=a(77),m=a(225),x=a(58),p=a(222),O=a(221),g=a(130),f=Object(g.a)({palette:{primary:{main:"#ffff"},secondary:{main:"#11cb5f"}}}),v=a(1),y=Object(x.a)((function(e){return{root:{position:"fixed",flexDirection:"column",top:"94vh",minHeight:"104vh",textAlign:"center",width:"100vw",zIndex:10},footer:{padding:e.spacing(3,2),marginTop:"auto",backgroundColor:(e.palette.type,e.palette.grey[800])},text:{color:"#ffffff"}}}));function C(){var e=y();return Object(v.jsx)(O.a,{theme:f,children:Object(v.jsxs)("div",{className:e.root,children:[Object(v.jsx)(p.a,{}),Object(v.jsx)(b.a,{component:"main",className:e.main,maxWidth:"sm"}),Object(v.jsx)("footer",{className:e.footer,children:Object(v.jsxs)(h.a,{variant:"body2",className:e.text,children:["Made with \u2764\ufe0f by ",Object(v.jsx)(m.a,{color:"inherit",href:"https://www.linkedin.com/in/chirag-jaju-3a2b01205/",children:"Chirag Jaju"})," ",(new Date).getFullYear(),"."]})})]})})}var w=a(245),S=a(226),k=a(227),N=a(14),D=a.n(N),A=Object(n.createContext)();function P(e){var t=Object(n.useState)(void 0),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),s=Object(d.a)(i,2),o=s[0],l=s[1],b=Object(n.useState)({id:"asd"}),h=Object(d.a)(b,2),m=h[0],x=h[1],p=Object(n.useState)([{Pid:"",Pemail:"",Pname:"",Parrival:"",Pdestination:"",PdateAndTime:{date:"",month:"",year:"",hour:"",min:""},Preq:[{name:"",email:"",status:""}]}]),O=Object(d.a)(p,2),g=O[0],f=O[1],y=Object(n.useState)({name:"",email:""}),C=Object(d.a)(y,2),w=C[0],S=C[1];function k(){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/loggedIn");case 2:(t=e.sent).data.base64&&(a=JSON.parse(atob(t.data.base64)),n=a.user,l(n)),c(t.data.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){k()}),[]),Object(v.jsx)(A.Provider,{value:{loggedIn:r,getLoggedIn:k,userID:o,setUserID:l,userInfo:w,setUserInfo:S,notes:g,setNotes:f,routeMap:m,setRouteMap:x},children:e.children})}var I=A,q=a(86),F=a.n(q),E=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},div:{height:"100vh"},googleLogin:{margin:e.spacing(3,0,2),color:"#F0f0f0"}}}));function B(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(d.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(void 0),m=Object(d.a)(l,2),x=m[0],O=m[1],g=E(),f=Object(n.useContext)(I).getLoggedIn,y=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:s,password:a},e.next=5,D.a.post("/api/login",n);case 5:c=e.sent,i=c.data.value,O(i),i&&(o(""),r("")),f(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:g.div,children:[Object(v.jsxs)(b.a,{component:"main",maxWidth:"xs",children:[Object(v.jsx)(p.a,{}),Object(v.jsxs)("div",{className:g.paper,children:[Object(v.jsx)(w.a,{className:g.avatar,children:Object(v.jsx)(F.a,{})}),Object(v.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(v.jsxs)("form",{className:g.form,noValidate:!0,children:[Object(v.jsx)(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"off",autoFocus:!0,type:"email",value:s,onChange:function(e){o(e.target.value)}}),Object(v.jsx)(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",value:a,onChange:function(e){r(e.target.value)}}),Object(v.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:g.submit,onClick:y,children:"Sign In"}),!1===x&&Object(v.jsx)(h.a,{style:{color:"#ff0000"},children:"Invalid Email or Password!"})]}),Object(v.jsx)(h.a,{component:"h1",variant:"h5",children:"OR"}),Object(v.jsxs)("a",{href:"https://travel-bphc-v2.herokuapp.com/auth/google",children:["Login with "," \xa0",Object(v.jsx)("i",{with:!0,i:!0,class:"fab fa-google"})]})]})]}),Object(v.jsx)(C,{})]})}var L=a(17),z=a.n(L),R=(a(178),a(231)),T=a(232),W=a(233),M=a(192),_=a(198),H=a(196),U=a(248),V=a(193),Y=a(88),J=a(21),G=a(234),K=a(244);function Z(e){return Object(v.jsx)(k.a,{variant:"contained",style:{backgroundColor:"#FF1268",color:"#FFFFFF"},onClick:e.handleSubmit,children:e.children})}var X=a(75),Q=a(89),$=a.n(Q),ee=function(e){return Object(v.jsx)("div",{className:$.a.backdrop})},te=function(e){return Object(v.jsx)("div",{className:$.a.modal,children:Object(v.jsx)("div",{className:$.a.content,children:e.children})})},ae=document.getElementById("overlays"),ne=function(e){return Object(v.jsxs)(X.Fragment,{children:[i.a.createPortal(Object(v.jsx)(ee,{onHidePopup:e.onHidePopup}),ae),i.a.createPortal(Object(v.jsx)(te,{children:e.children}),ae)]})};function re(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),r=a[0],c=a[1],i=new Date,s=[];return e.allPosts.map((function(t){e.notes.filter((function(e){return e._id===t.postId&&(s.push({posts:e,status:t.requestStatus}),!0)}))})),Object(n.useEffect)((function(){c(!0)}),[]),Object(v.jsxs)(ne,{onHidePopup:e.onHidePopup,children:[r&&s.map((function(e){if(void 0!==e.posts&&new Date(e.posts.PdateAndTime.data).getTime()-i.getTime()>=0)return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(h.a,{children:["Your Request to travel with ",e.posts.Pname," ","on ",e.posts.PdateAndTime.date,"/",e.posts.PdateAndTime.month,"/",e.posts.PdateAndTime.year," has been","true"===e.status&&" Accepted."," ","false"===e.status&&" Rejected."]})})})),Object(v.jsx)(k.a,{variant:"contained",style:{backgroundColor:"#FF1268",color:"#FFFFFF",marginTop:"20px"},onClick:e.handleOkay,children:"Okay"})]})}var ce=function(e){var t=Object(n.useContext)(I),a=t.userID,r=t.notes,c=Object(n.useState)(),i=Object(d.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(!1),b=Object(d.a)(l,2),h=b[0],m=b[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/userInfo/"+a);case 2:t=e.sent,n=t.data,o(n),m(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),Object(v.jsxs)(v.Fragment,{children:[h&&0!==s.postToShow.length&&Object(v.jsx)(re,{allPosts:s.postToShow,notes:r,handleOkay:function(){e.onHidePopup()}}),")"]})},ie=(a(179),a(97),a(230)),se=a(243),oe=a(228),le=a(229);delete z.a.Icon.Default.prototype._getIconUrl,z.a.Icon.Default.mergeOptions({iconRetinaUrl:a(122).default,iconUrl:a(122).default,shadowUrl:a(180).default});var je=function(e){var t={lat:e.coordinates.lat,lng:e.coordinates.lng},a=Object(n.useRef)(null),r=Object(n.useMemo)((function(){return{dragend:function(){var t=a.current;null!=t&&e.setCoordinates(t.getLatLng())}}}),[]),c=Object(n.useCallback)((function(){e.setDraggable((function(t){return!1===t&&e.fieldSetter("Custom"),!t}))}),[]);return Object(v.jsx)(oe.a,{draggable:e.draggable,eventHandlers:r,position:t,ref:a,children:Object(v.jsx)(le.a,{minWidth:90,children:Object(v.jsx)("span",{onClick:c,children:e.draggable?"Marker is draggable":e.message})})})};a(123);var ue=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2);return a[0],a[1],Object(v.jsxs)(ie.a,{center:[17.42522759541259,78.48498670510129],zoom:10,scrollWheelZoom:!0,className:"markercluster-map",children:[Object(v.jsx)(se.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(v.jsx)(je,{coordinates:e.arrivalCoordinates,setCoordinates:e.setArrivalCoordinates,message:"Click to make it draggable and choose Arrival",fieldSetter:e.setArrival,draggable:e.draggable,setDraggable:e.setDraggable}),Object(v.jsx)(je,{coordinates:e.destinationCoordinates,setCoordinates:e.setDestinationCoordinates,message:"Click to make it draggable and choose Destination",fieldSetter:e.setDestination,draggable:e.draggable,setDraggable:e.setDraggable})]})},de=Object(x.a)((function(e){return{card:{margin:"2vw 2.5vw",backgroundColor:"#DEE3E3",width:"95vw",padding:"20px"},root:{alignItems:"center",marginBottom:"80px"},formControl:{margin:"0 0 20px",width:"165px"},text:{color:"#33AB3E"},form:{marginBottom:"-20px"}}}));var be=function(){var e=de(),t=Object(n.useState)("Airport"),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)("Campus"),o=Object(d.a)(i,2),l=o[0],b=o[1],m=Object(n.useState)(new Date),x=Object(d.a)(m,2),p=x[0],O=x[1],g=Object(n.useState)(!1),f=Object(d.a)(g,2),y=f[0],w=f[1],S=Object(n.useState)(),k=Object(d.a)(S,2),N=k[0],A=k[1],P=Object(n.useState)(void 0),q=Object(d.a)(P,2),F=q[0],E=q[1],B=Object(n.useState)(1),L=Object(d.a)(B,2),z=L[0],X=L[1],Q=Object(n.useState)(!1),$=Object(d.a)(Q,2),ee=$[0],te=$[1],ae=Object(n.useContext)(I),ne=ae.userID,re=ae.setUserInfo,ie=ae.userInfo,se=ae.setNotes,oe=Object(n.useState)({lat:17.237332384,lng:78.423498306}),le=Object(d.a)(oe,2),je=le[0],be=le[1],he=Object(n.useState)({lat:17.5449,lng:78.5718}),me=Object(d.a)(he,2),xe=me[0],pe=me[1],Oe=Object(n.useState)(),ge=Object(d.a)(Oe,2),fe=ge[0],ve=ge[1];Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){ve({lat:e.coords.latitude,lng:e.coords.longitude})}))}),[]);var ye=Object(n.useState)(!0),Ce=Object(d.a)(ye,2),we=Ce[0],Se=Ce[1],ke=function(e){O(e)};Object(n.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/posts");case 2:t=e.sent,se(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[se]),Object(n.useEffect)((function(){var e,t=new Date,a=new Date(p);A((e=t,a.getTime()-e.getTime()<=-3e5))}),[p]),Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/userInfo/"+ne);case 2:t=e.sent,a=t.data,re({name:a.name,email:a.email});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[ne,re]);var Ne=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,n,c,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r!==l||"Custom"===r){e.next=7;break}return w(!0),E(void 0),e.abrupt("return");case 7:w(!1);case 8:if(!N){e.next=11;break}return E(void 0),e.abrupt("return");case 11:return a=new Date(p),n={date:a.getDate(),month:a.getMonth()+1,year:a.getFullYear(),hour:a.getHours(),min:a.getMinutes(),data:p},c={id:ne,name:ie.name,email:ie.email,dateAndTime:n,arrival:r,destination:l,carStrength:z,arrivalLocation:{lat:je.lat,lng:je.lng},destinationLocation:{lat:xe.lat,lng:xe.lng}},e.next=16,D.a.post("/api/post/submit",c);case 16:i=e.sent,s=i.data.value,E(s);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[we&&Object(v.jsx)(ce,{onHidePopup:function(){Se(!1)},onShowPopup:function(){Se(!0)}}),Object(v.jsxs)("div",{className:e.root,children:[Object(v.jsxs)(h.a,{variant:"h4",style:{margin:"1vw 2.5vw  "},children:["Hello ",ie.name,", To see your Posts click"," ",Object(v.jsx)(s.b,{to:"./yourposts",style:{color:"#FF1268"},children:"here"})," "]}),Object(v.jsxs)(R.a,{variant:"outlined",className:e.card,children:[Object(v.jsx)(h.a,{variant:"h4",children:"Create Request:"}),Object(v.jsx)("form",{className:e.form,noValidate:!0,children:Object(v.jsxs)(T.a,{children:[Object(v.jsxs)(W.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:[Object(v.jsx)(W.a,{item:!0,xs:6,children:Object(v.jsxs)(M.a,{required:!0,className:e.formControl,children:[Object(v.jsx)(_.a,{id:"demo-simple-select-required-label",children:"Arrival"}),Object(v.jsxs)(H.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:r,onChange:function(e){c(e.target.value),"Current Location"===e.target.value?(te(!1),be(fe)):"Airport"===e.target.value?(te(!1),be({lat:17.237332384,lng:78.423498306})):"Campus"===e.target.value?(te(!1),be({lat:17.5449,lng:78.5718})):"Bustop"===e.target.value?(te(!1),be({lat:17.4478,lng:78.4982})):"Custom"===e.target.value&&te(!0)},className:e.selectEmpty,children:[Object(v.jsx)(U.a,{value:"Campus",children:"Campus"}),Object(v.jsx)(U.a,{value:"Airport",children:"Airport"}),Object(v.jsx)(U.a,{value:"Bustop",children:"Bustop"}),Object(v.jsx)(U.a,{value:"Current Location",children:"Current Location"}),Object(v.jsx)(U.a,{value:"Custom",children:"Custom"})]}),Object(v.jsx)(V.a,{children:"Required"})]})}),Object(v.jsx)(W.a,{item:!0,xs:6,children:Object(v.jsxs)(M.a,{required:!0,className:e.formControl,children:[Object(v.jsx)(_.a,{id:"demo-simple-select-required-label",children:"Destination"}),Object(v.jsxs)(H.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:l,onChange:function(e){b(e.target.value),"Current Location"===e.target.value?(te(!1),pe(fe)):"Airport"===e.target.value?(te(!1),pe({lat:17.237332384,lng:78.423498306})):"Campus"===e.target.value?(te(!1),pe({lat:17.5449,lng:78.5718})):"Bustop"===e.target.value?(te(!1),pe({lat:17.4478,lng:78.4982})):"Custom"===e.target.value&&te(!0)},className:e.selectEmpty,children:[Object(v.jsx)(U.a,{value:"Campus",children:"Campus"}),Object(v.jsx)(U.a,{value:"Airport",children:"Airport"}),Object(v.jsx)(U.a,{value:"Bustop",children:"Bustop"}),Object(v.jsx)(U.a,{value:"Current Location",children:"Current Location"}),Object(v.jsx)(U.a,{value:"Custom",children:"Custom"})]}),Object(v.jsx)(V.a,{children:"Required"})]})}),Object(v.jsxs)(J.a,{utils:Y.a,children:[Object(v.jsx)(W.a,{item:!0,xs:6,children:Object(v.jsx)(G.a,{margin:"normal",id:"date-picker-dialog",label:"Arrival Date",format:"dd/MM/yyyy",className:e.formControl,value:p,onChange:ke,KeyboardButtonProps:{"aria-label":"change date"}})}),Object(v.jsx)(W.a,{item:!0,xs:6,children:Object(v.jsx)(K.a,{margin:"normal",id:"time-picker",className:e.formControl,label:"Arrival Time",value:p,onChange:ke,KeyboardButtonProps:{"aria-label":"change time"}})}),Object(v.jsx)(W.a,{item:!0,xs:6,children:Object(v.jsxs)(M.a,{required:!0,className:e.formControl,children:[Object(v.jsx)(_.a,{id:"demo-simple-select-required-label",children:"Car Strength"}),Object(v.jsxs)(H.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:z,onChange:function(e){X(e.target.value)},className:e.selectEmpty,children:[Object(v.jsx)(U.a,{value:1,children:"1"}),Object(v.jsx)(U.a,{value:2,children:"2"}),Object(v.jsx)(U.a,{value:3,children:"3"}),Object(v.jsx)(U.a,{value:4,children:"4"})]}),Object(v.jsx)(V.a,{children:"Required"})]})})]}),Object(v.jsx)(Z,{handleSubmit:Ne,children:"Submit"})]}),!0===y&&Object(v.jsx)(h.a,{variant:"h6",color:"error",children:"Please Choose Different Places!"}),!0===N&&Object(v.jsx)(h.a,{variant:"h6",color:"error",children:"Please Enter a Valid Date!"}),!0===F&&Object(v.jsx)(h.a,{variant:"h6",className:e.text,children:"Form successfully Submitted!"}),!1===F&&Object(v.jsx)(h.a,{variant:"h6",color:"error",children:"Form was not submitted. Please check for duplication."})]})}),Object(v.jsx)(ue,{arrivalCoordinates:je,setArrivalCoordinates:be,destinationCoordinates:xe,setDestinationCoordinates:pe,setArrival:c,setDestination:b,draggable:ee,setDraggable:te})]}),Object(v.jsx)(C,{})]})]})},he=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function me(){var e=he(),t=Object(n.useContext)(I).getLoggedIn,a=Object(n.useState)(""),r=Object(d.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),l=o[0],m=o[1],x=Object(n.useState)(""),O=Object(d.a)(x,2),g=O[0],f=O[1],y=Object(n.useState)(void 0),N=Object(d.a)(y,2),A=N[0],P=N[1],q=Object(n.useState)(void 0),E=Object(d.a)(q,2),B=E[0],L=E[1],z=void 0,R=function(){var e=Object(u.a)(j.a.mark((function e(a){var n,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),0!==c.trim().length&&0!==l.trim().length&&0!==g.trim().length&&l.trim().includes("@")?(z=!0,P(!0)):(z=!1,P(!1)),n={name:c,email:l,password:g},!z){e.next=11;break}return e.next=6,D.a.post("/api/signup",n);case 6:r=e.sent,(s=r.data).value&&(m(""),i(""),f("")),L(s.value),t();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsxs)(b.a,{component:"main",maxWidth:"xs",children:[Object(v.jsx)(p.a,{}),Object(v.jsxs)("div",{className:e.paper,children:[Object(v.jsx)(w.a,{className:e.avatar,children:Object(v.jsx)(F.a,{})}),Object(v.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(v.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(v.jsxs)(W.a,{container:!0,spacing:2,children:[Object(v.jsx)(W.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{autoComplete:"off",name:"Name",variant:"outlined",required:!0,fullWidth:!0,id:"Name",label:"Name",autoFocus:!0,onChange:function(e){i(e.target.value)},value:c})}),Object(v.jsx)(W.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"off",onChange:function(e){m(e.target.value)},value:l,type:"email"})}),Object(v.jsx)(W.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{variant:"outlined",fullWidth:!0,name:"password",label:"Password",required:!0,type:"password",id:"password",autoComplete:"current-password",onChange:function(e){f(e.target.value)},value:g})})]}),Object(v.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:R,children:"Sign Up"}),!1===A&&Object(v.jsx)(h.a,{style:{color:"#ff0000"},children:"Please Enter Valid Information!"}),!1===B&&Object(v.jsx)(h.a,{style:{color:"#ff0000"},children:"This Email is already Registered, Please Login."})]})]})]}),Object(v.jsx)(C,{})]})}var xe=a(240);a(185);var pe=function(e){var t=e.ArrivalLocation.coordinates,a=e.DestinationLocation.coordinates,n={lat:(t[1]+a[1])/2,lng:(t[0]+a[0])/2};return Object(v.jsxs)(ie.a,{center:[n.lat,n.lng],zoom:10,scrollWheelZoom:!0,className:"markercluster-map2",children:[Object(v.jsx)(se.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(v.jsx)(oe.a,{position:[t[1],t[0]],children:Object(v.jsx)(le.a,{children:"Arrival"})}),Object(v.jsx)(oe.a,{position:[a[1],a[0]],children:Object(v.jsx)(le.a,{children:"Destination"})})]})},Oe=Object(x.a)((function(e){return{card:{margin:"1vw 1.5vw",backgroundColor:"#E0E0E0",padding:"2vw"},arrow:{fontSize:"h6.fontSize",color:e.palette.grey[800],display:"inline"},gridItem:{marginBottom:"25px"},text:{color:"#33AB3E"},textFalse:{color:"#FF0000"},selectEmpty:{padding:"0px 50px 0px"},map:{margin:"10px 0 10px"}}}));function ge(e){var t=Oe(),a=Object(n.useState)(void 0),r=Object(d.a)(a,2),c=(r[0],r[1]),i=Object(n.useState)(""),s=Object(d.a)(i,2),l=s[0],b=s[1],m=Object(n.useContext)(I),x=m.userInfo,p=(m.routeMap,m.setRouteMap),O=Object(n.useState)(void 0),g=Object(d.a)(O,2),f=g[0],y=g[1],C=e.post.PdateAndTime,w=function(){var t=Object(u.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={Rname:x.name,Remail:x.email,RcarStrength:l},!f){t.next=6;break}return t.next=4,D.a.post("/api/posts/request/"+e.post._id,n);case 4:r=t.sent,c(r.data);case 6:S=[];case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=e.post.Preq.filter((function(e){return e.email===x.email})),k=Object(n.useState)(!1),N=Object(d.a)(k,2),A=N[0],P=N[1];return Object(v.jsxs)(v.Fragment,{children:[A&&Object(v.jsx)(o.a,{to:{pathname:"/routemap"}}),Object(v.jsx)(W.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(xe.a,{display:"inline-block",children:Object(v.jsx)(R.a,{variant:"outlined",className:t.card,children:Object(v.jsxs)(W.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:[Object(v.jsxs)(W.a,{item:!0,xs:5,className:t.gridItem,children:[Object(v.jsx)(xe.a,{fontSize:"h4.fontSize",color:"fontWeightBold",display:"inline",children:e.post.Parrival}),Object(v.jsx)("hr",{})]}),Object(v.jsxs)(W.a,{item:!0,xs:2,className:t.gridItem,children:[Object(v.jsx)(xe.a,{className:t.arrow,display:"inline",fontSize:"h4.fontSize",children:Object(v.jsx)("i",{class:"fas fa-arrow-right"})}),Object(v.jsx)("hr",{})]}),Object(v.jsxs)(W.a,{item:!0,xs:5,style:{textAlign:"right"},className:t.gridItem,children:[Object(v.jsx)(xe.a,{fontSize:"h4.fontSize",color:"fontWeightBold",display:"inline",textAlign:"right",children:e.post.Pdestination}),Object(v.jsx)("hr",{})]}),Object(v.jsx)(W.a,{item:!0,xs:6,className:t.gridItem,children:Object(v.jsxs)(xe.a,{fontSize:"h5.fontSize",color:"fontWeightBold",display:"inline",children:["Date: ",C.date,"/",C.month,"/",C.year]})}),Object(v.jsx)(W.a,{item:!0,xs:6,style:{textAlign:"right"},className:t.gridItem,children:Object(v.jsxs)(xe.a,{fontSize:"h5.fontSize",color:"fontWeightBold",display:"inline",textAlign:"right",children:[" Time: ",C.hour<12?C.hour:C.hour-12,":",C.min>=10?C.min:"0"+C.min,C.hour<12?" am":" pm"]})}),Object(v.jsx)(W.a,{item:!0,xs:6,className:t.gridItem,children:Object(v.jsx)(xe.a,{fontSize:"h5.fontSize",color:"fontWeightBold",display:"inline",children:e.post.Pname})}),Object(v.jsx)(W.a,{item:!0,xs:6,style:{textAlign:"right"},className:t.gridItem,children:Object(v.jsx)(xe.a,{fontSize:"h5.fontSize",color:"fontWeightBold",display:"inline",textAlign:"right",children:e.post.Pemail})}),Object(v.jsx)(W.a,{item:!0,xs:6,children:Object(v.jsxs)(xe.a,{fontSize:"h5.fontSize",color:"fontWeightBold",display:"inline",children:["People in Car: ",e.post.PcarStrength]})}),Object(v.jsx)(W.a,{item:!0,xs:6,style:{textAlign:"right",marginBottom:"0"},children:Object(v.jsx)(Z,{handleSubmit:function(){p(e.post),P(!0)},children:"Route"})}),0===S.length&&e.post.PcarStrength<=3&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(W.a,{item:!0,xs:6,style:{textAlign:"left",marginBottom:"0"},className:t.gridItem,children:Object(v.jsxs)(M.a,{required:!0,className:t.formControl,children:[Object(v.jsx)(_.a,{id:"demo-simple-select-required-label",children:"Car Strength"}),Object(v.jsxs)(H.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:l,onChange:function(t){b(t.target.value),t.target.value+e.post.PcarStrength<=4?y(!0):y(!1)},className:t.selectEmpty,children:[Object(v.jsx)(U.a,{value:1,children:"1"}),Object(v.jsx)(U.a,{value:2,children:"2"}),Object(v.jsx)(U.a,{value:3,children:"3"}),Object(v.jsx)(U.a,{value:4,children:"4"})]}),Object(v.jsx)(V.a,{children:"Required"})]})}),Object(v.jsx)(W.a,{item:!0,xs:6,style:{textAlign:"right",marginTop:"20px"},children:Object(v.jsx)(Z,{handleSubmit:w,children:"Request"})})]}),Object(v.jsx)(W.a,{item:!0,xs:12,className:t.map,children:Object(v.jsx)(pe,{ArrivalLocation:e.post.ArrivalLocation,DestinationLocation:e.post.DestinationLocation})}),0!==S.length&&Object(v.jsxs)(W.a,{item:!0,xs:6,style:{textAlign:"right"},className:t.gridItem,children:[Object(v.jsx)(h.a,{variant:"h6",className:t.text,children:"Request was sent."})," "]}),!1===f&&Object(v.jsx)(h.a,{variant:"h6",className:t.textFalse,children:"Maximum only 4 people allowed in the Car"})]})})})})]})}var fe=function(){var e=Object(n.useContext)(I),t=e.notes,a=e.setNotes,r=new Date,c=t.filter((function(e){return new Date(e.PdateAndTime.data).getTime()-r.getTime()>=0}));return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/posts");case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,t]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{padding:"0 2.5vw 50px"},children:Object(v.jsx)(W.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:c.map((function(e){return Object(v.jsx)(ge,{post:e})}))})}),Object(v.jsx)(C,{})]})},ve=Object(x.a)((function(e){return{text:{color:"#33AB3E"},textFalse:{color:"#FF0000"}}}));function ye(e){var t=ve(),a=Object(n.useState)(void 0),r=Object(d.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(void 0),o=Object(d.a)(s,2),l=o[0],b=o[1],m=e.postDetails.Preq.filter((function(t){return t.email===e.req.email})),x=function(){var t=Object(u.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.req.carStrength+e.postDetails.PcarStrength<=4)){t.next=5;break}return t.next=3,D.a.post("/api/postRequest/true/"+e.req.email+"/"+e.req.carStrength,e.postDetails);case 3:a=t.sent,i(a.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(u.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.post("/api/postRequest/false/"+e.req.email+"/"+e.req.carStrength,e.postDetails);case 2:a=t.sent,b(a.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(xe.a,{fontSize:"h6.fontSize",color:"fontWeightBold",style:{margin:"0px 0px 20px 0px"},children:["From: ",e.req.name," \xa0||\xa0 Email: ",e.req.email,"|| Number of People they have: ",e.req.carStrength,e.current&&"true"===m[0].status&&Object(v.jsx)(h.a,{variant:"h6",className:t.text,children:"Request Accepted"}),e.current&&"false"===m[0].status&&Object(v.jsx)(h.a,{variant:"h6",className:t.textFalse,children:"Request Rejected"}),e.current&&void 0===m[0].status&&void 0===c&&void 0===l&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k.a,{style:{backgroundColor:"#1AD61A",color:"#e0e0e0",margin:"0px 0px 0px 20px"},onClick:x,children:Object(v.jsx)("i",{class:"fas fa-check"})}),Object(v.jsx)(k.a,{style:{backgroundColor:"#FF0000",color:"#e0e0e0",margin:"0px 0px 0px 20px"},onClick:p,children:Object(v.jsx)("i",{class:"fas fa-times"})})]})]})})}var Ce=Object(x.a)((function(e){return{card:{margin:"2.5vw 2.5vw",backgroundColor:"#E0E0E0",width:"95vw",padding:"20px"},arrow:{fontSize:"h6.fontSize",color:e.palette.grey[800],display:"inline"},gridItem:{marginBottom:"25px"}}}));function we(e){var t=Ce(),a=e.post.PdateAndTime,n=function(){var t=Object(u.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.get("/api/deletepost/"+e.post._id);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsx)(R.a,{variant:"outlined",className:t.card,children:Object(v.jsxs)(W.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:[Object(v.jsx)(W.a,{item:!0,xs:5,className:t.gridItem,children:Object(v.jsx)(xe.a,{fontSize:"h4.fontSize",color:"fontWeightBold",display:"inline",children:e.post.Parrival})}),Object(v.jsx)(W.a,{item:!0,xs:2,className:t.gridItem,children:Object(v.jsx)(xe.a,{className:t.arrow,display:"inline",fontSize:"h4.fontSize",children:Object(v.jsx)("i",{class:"fas fa-arrow-right"})})}),Object(v.jsx)(W.a,{item:!0,xs:5,style:{textAlign:"right"},className:t.gridItem,children:Object(v.jsx)(xe.a,{fontSize:"h4.fontSize",color:"fontWeightBold",display:"inline",textAlign:"right",children:e.post.Pdestination})}),Object(v.jsx)(W.a,{item:!0,xs:6,className:t.gridItem,children:Object(v.jsxs)(xe.a,{fontSize:"h5.fontSize",color:"fontWeightBold",display:"inline",children:["Date: ",a.date,"/",a.month,"/",a.year]})}),Object(v.jsx)(W.a,{item:!0,xs:6,style:{textAlign:"right"},className:t.gridItem,children:Object(v.jsxs)(xe.a,{fontSize:"h5.fontSize",color:"fontWeightBold",display:"inline",textAlign:"right",children:[" Time: ",a.hour<12?a.hour:a.hour-12,":",a.min>=10?a.min:"0"+a.min,a.hour<12?" am":" pm"]})}),Object(v.jsx)(W.a,{xs:12,className:t.gridItem,children:Object(v.jsxs)(xe.a,{fontSize:"h5.fontSize",color:"fontWeightBold",display:"inline",children:["Number of People you have in Car: ",e.post.PcarStrength]})}),e.post.Preq.map((function(t){return Object(v.jsx)(W.a,{item:!0,xs:12,children:Object(v.jsx)(ye,{current:e.current,req:t,postId:e.post._id,postDetails:e.post})})})),Object(v.jsx)(k.a,{style:{backgroundColor:"#424242",color:"#e0e0e0",marginTop:"20px"},onClick:n,children:Object(v.jsx)("i",{class:"fas fa-trash-alt"})})]})})}function Se(){var e=Object(n.useContext)(I),t=e.userID,a=e.notes,r=e.setNotes,c=new Date,i=[];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/posts");case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r,a]);var s=a.filter((function(e){return e.Pid===t&&(new Date(e.PdateAndTime.data).getTime()-c.getTime()>=0||(i.push(e),!1))}));return Object(v.jsxs)(v.Fragment,{children:[0===s.length&&0===i.length&&Object(v.jsx)(h.a,{variant:"h4",style:{margin:"1vw 1vw"},children:"No posts to Display."}),s.map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(we,{post:e,current:!0})})})),0!==i.length&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("hr",{color:"red"}),Object(v.jsx)(h.a,{variant:"h4",style:{margin:"1vw 2.5vw 0"},children:"Request History:"})]}),i.map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(we,{post:e,current:!1})})}))]})}var ke=a(50),Ne=a(236),De=a(237),Ae=a(238),Pe=a(235),Ie=a(239),qe=a(129),Fe=a.n(qe);var Ee=function(){var e=Object(n.useContext)(I).getLoggedIn,t=Object(o.f)(),a=function(){var a=Object(u.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,D.a.get("/api/logout");case 3:return a.next=5,e();case 5:t.push("/login");case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(v.jsx)(k.a,{color:"#ffffff",variant:"contained",onClick:a,children:"Log Out"})},Be=function(e){return Object(v.jsx)(k.a,{color:"#ffffff",variant:"contained",style:{marginRight:"1vw"},children:e.children})},Le=Object(x.a)((function(e){return{logOut:{textAlign:"right"}}})),ze=function(){var e=Le();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(W.a,{xs:11,md:6,className:e.logOut,children:[Object(v.jsx)(Be,{children:Object(v.jsx)(s.b,{to:"/filter",style:{textDecoration:"none",color:"#424242"},children:"Filter"})}),Object(v.jsx)(Be,{children:Object(v.jsx)(s.b,{to:"/posts",style:{textDecoration:"none",color:"#424242"},children:"All Posts"})}),Object(v.jsx)(Ee,{})]})})},Re=Object(x.a)((function(e){return{logOut:{textAlign:"right"}}})),Te=function(e){var t=Re();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(W.a,{item:!0,xs:11,md:6,className:t.logOut,children:[Object(v.jsx)(Be,{children:Object(v.jsx)(s.b,{to:"./login",style:{textDecoration:"none",color:"#424242"},children:"Login"})}),Object(v.jsx)(Be,{children:Object(v.jsx)(s.b,{to:"/signup",style:{textDecoration:"none",color:"#424242"},children:"Signup"})})]})})},We=Object(x.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(8),right:e.spacing(2)}}}));function Me(e){var t=e.children,a=e.window,n=We(),r=Object(Ne.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return Object(v.jsx)(De.a,{in:r,children:Object(v.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root,children:t})})}function _e(e){var t=Object(n.useContext)(I).loggedIn;return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(p.a,{}),Object(v.jsx)(Ae.a,{style:{background:"#424242"},children:Object(v.jsx)(Pe.a,{children:Object(v.jsxs)(W.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[Object(v.jsx)(W.a,{item:!0,xs:1,md:6,children:Object(v.jsx)(k.a,{color:"#ffffff",variant:"contained",children:Object(v.jsx)(s.b,{to:"/",style:{textDecoration:"none",color:"#424242"},children:"Home"})})}),t?Object(v.jsx)(ze,{}):Object(v.jsx)(Te,{})]})})}),Object(v.jsx)(Pe.a,{id:"back-to-top-anchor"}),Object(v.jsx)(Me,Object(ke.a)(Object(ke.a)({},e),{},{children:Object(v.jsx)(Ie.a,{color:"secondary",size:"small","aria-label":"scroll back to top",children:Object(v.jsx)(Fe.a,{})})}))]})}var He=a(242),Ue=Object(x.a)((function(e){return{card:{margin:"2.5vw 2.5vw",backgroundColor:"#DEE3E3",width:"95vw",padding:"20px"},root:{alignItems:"center"},formControl:{margin:e.spacing(0),width:"200px"},text:{color:"#33AB3E"},checkbox:{margin:"20px 0 20px"},submitButton:{margin:"10px 0 20px"}}}));function Ve(){var e=Ue(),t=Object(n.useContext)(I),a=t.notes,r=t.setNotes,c=Object(n.useState)("Airport"),i=Object(d.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)("Campus"),b=Object(d.a)(l,2),m=b[0],x=b[1],p=Object(n.useState)(new Date),O=Object(d.a)(p,2),g=O[0],f=O[1],y=Object(n.useState)([]),C=Object(d.a)(y,2),w=C[0],k=C[1],N=Object(n.useState)(),A=Object(d.a)(N,2),P=A[0],q=A[1],F=Object(n.useState)(!1),E=Object(d.a)(F,2),B=E[0],L=E[1],z=Object(n.useState)(),K=Object(d.a)(z,2),X=K[0],Q=K[1],$=Object(n.useState)(!1),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(d.a)(ne,2),ce=re[0],ie=re[1],se=Object(n.useState)(!1),oe=Object(d.a)(se,2),le=oe[0],je=oe[1],de=Object(n.useState)(),be=Object(d.a)(de,2),he=be[0],me=be[1],xe=Object(n.useState)(!1),pe=Object(d.a)(xe,2),Oe=pe[0],fe=pe[1],ve=Object(n.useState)(),ye=Object(d.a)(ve,2),Ce=ye[0],we=ye[1],Se=Object(n.useState)(),ke=Object(d.a)(Se,2),Ne=ke[0],De=ke[1],Ae=Object(n.useState)({lat:17.237332384,lng:78.423498306}),Pe=Object(d.a)(Ae,2),Ie=Pe[0],qe=Pe[1],Fe=Object(n.useState)({lat:17.5449,lng:78.5718}),Ee=Object(d.a)(Fe,2),Be=Ee[0],Le=Ee[1],ze=Object(n.useState)(),Re=Object(d.a)(ze,2),Te=Re[0],We=Re[1];Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){We({lat:e.coords.latitude,lng:e.coords.longitude})}))}),[]);var Me=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a,n,r,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!Oe){e.next=8;break}if(void 0!==X&&""!==X.trim()){e.next=5;break}return we(!1),e.abrupt("return");case 5:we(!0),a={name:X},t=Object.assign(t,a);case 8:if(te&&(n={arrivalCoordinates:Ie},t=Object.assign(t,n)),ce&&(r={destinationCoordinates:Be},t=Object.assign(t,r)),!(Object.keys(t).length>1)){e.next=15;break}return De(!0),e.abrupt("return");case 15:De(!1);case 16:if(le&&(c={dateData:g.toString()},t=Object.assign(t,c)),Oe||le||te||ce){e.next=22;break}return me(!1),e.abrupt("return");case 22:me(!0);case 23:return e.next=25,D.a.post("/api/filter",t);case 25:i=e.sent,k(i.data);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/posts");case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r,a]),Object(n.useEffect)((function(){var e,t=new Date,a=new Date(g);q((e=t,a.setHours(0,0,0,0)-e.setHours(0,0,0,0)<0))}),[g]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(R.a,{variant:"outlined",className:e.card,children:Object(v.jsx)("form",{className:e.form,noValidate:!0,children:Object(v.jsxs)(T.a,{children:[Object(v.jsxs)(W.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:[Object(v.jsx)(W.a,{item:!0,xs:3,children:Object(v.jsxs)(M.a,{required:!0,className:e.formControl,children:[Object(v.jsx)(_.a,{id:"demo-simple-select-required-label",children:"Arrival"}),Object(v.jsxs)(H.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:s,onChange:function(e){o(e.target.value),"Current Location"===e.target.value?(L(!1),qe(Te)):"Airport"===e.target.value?(L(!1),qe({lat:17.237332384,lng:78.423498306})):"Campus"===e.target.value?(L(!1),qe({lat:17.5449,lng:78.5718})):"Bustop"===e.target.value?(L(!1),qe({lat:17.4478,lng:78.4982})):"Custom"===e.target.value&&L(!0)},className:e.selectEmpty,children:[Object(v.jsx)(U.a,{value:"Campus",children:"Campus"}),Object(v.jsx)(U.a,{value:"Airport",children:"Airport"}),Object(v.jsx)(U.a,{value:"Bustop",children:"Bustop"}),Object(v.jsx)(U.a,{value:"Current Location",children:"Current Location"}),Object(v.jsx)(U.a,{value:"Custom",children:"Custom"})]}),Object(v.jsx)(V.a,{children:"Required"})]})}),Object(v.jsx)(W.a,{item:!0,xs:3,children:Object(v.jsxs)(M.a,{required:!0,className:e.formControl,children:[Object(v.jsx)(_.a,{id:"demo-simple-select-required-label",children:"Destination"}),Object(v.jsxs)(H.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:m,onChange:function(e){x(e.target.value),"Current Location"===e.target.value?(L(!1),Le(Te)):"Airport"===e.target.value?(L(!1),Le({lat:17.237332384,lng:78.423498306})):"Campus"===e.target.value?(L(!1),Le({lat:17.5449,lng:78.5718})):"Bustop"===e.target.value?(L(!1),Le({lat:17.4478,lng:78.4982})):"Custom"===e.target.value&&L(!0)},className:e.selectEmpty,children:[Object(v.jsx)(U.a,{value:"Campus",children:"Campus"}),Object(v.jsx)(U.a,{value:"Airport",children:"Airport"}),Object(v.jsx)(U.a,{value:"Bustop",children:"Bustop"}),Object(v.jsx)(U.a,{value:"Current Location",children:"Current Location"}),Object(v.jsx)(U.a,{value:"Custom",children:"Custom"})]}),Object(v.jsx)(V.a,{children:"Required"})]})}),Object(v.jsx)(J.a,{utils:Y.a,children:Object(v.jsx)(W.a,{item:!0,xs:3,children:Object(v.jsx)(G.a,{margin:"normal",id:"date-picker-dialog",label:"Arrival Date",format:"dd/MM/yyyy",value:g,onChange:function(e){f(e)},KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(v.jsx)(W.a,{item:!0,xs:3,children:Object(v.jsx)(S.a,{id:"outlined-basic",label:"Name",variant:"outlined",value:X,onChange:function(e){Q(e.target.value)}})}),Object(v.jsx)(W.a,{item:!0,xs:3,children:Object(v.jsx)(He.a,{checked:te,onChange:function(e){ae(e.target.checked)},inputProps:{"aria-label":"controlled"},className:e.checkbox})}),Object(v.jsx)(W.a,{item:!0,xs:3,children:Object(v.jsx)(He.a,{checked:ce,onChange:function(e){ie(e.target.checked)},inputProps:{"aria-label":"controlled"},className:e.checkbox})}),Object(v.jsx)(W.a,{item:!0,xs:3,children:Object(v.jsx)(He.a,{checked:le,onChange:function(e){je(e.target.checked)},inputProps:{"aria-label":"controlled"},className:e.checkbox})}),Object(v.jsx)(W.a,{item:!0,xs:3,children:Object(v.jsx)(He.a,{checked:Oe,onChange:function(e){fe(e.target.checked)},inputProps:{"aria-label":"controlled"},className:e.checkbox})}),Object(v.jsx)(h.a,{variant:"h6",children:"Check respective boxes to include in filtering. (Location under 2km)"}),Object(v.jsx)(h.a,{variant:"h6",children:"Rules: Search using only one of the three parameters at a time (i.e Arrival, Destination, Name)."}),Object(v.jsxs)(W.a,{item:!0,xs:12,className:e.submitButton,children:[Object(v.jsx)(Z,{handleSubmit:Me,children:"Search"}),!1===he&&Object(v.jsx)(h.a,{variant:"h6",color:"error",children:"Please check atleast one checkbox!"}),!1===Ce&&Object(v.jsx)(h.a,{variant:"h6",color:"error",children:"Please Enter a Name or Uncheck the respective Checkbox."}),!0===Ne&&Object(v.jsx)(h.a,{variant:"h6",color:"error",children:"Please Select only ONE of the following: Arrival, Destination, Name; And Search Again."})]}),Object(v.jsx)(W.a,{item:!0,xs:12,children:Object(v.jsx)(ue,{arrivalCoordinates:Ie,setArrivalCoordinates:qe,destinationCoordinates:Be,setDestinationCoordinates:Le,setArrival:o,setDestination:x,draggable:B,setDraggable:L})})]}),!0===P&&Object(v.jsx)(h.a,{variant:"h6",color:"textPrimary",style:{marginTop:"1vw"},children:"You are viewing Past Requests!"})]})})}),Object(v.jsx)("hr",{}),0!==w.length&&Object(v.jsx)(h.a,{variant:"h4",style:{margin:"1vw 4vw 0"},children:"Results:"}),0===w.length&&Object(v.jsx)(h.a,{variant:"h4",style:{margin:"1vw 1vw"},children:"No posts to Display."}),Object(v.jsx)("div",{style:{padding:"0 2.5vw 50px"},children:Object(v.jsx)(W.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",children:w.map((function(e){return Object(v.jsx)(ge,{post:e})}))})})]})})}a(186);a(123);var Ye=Object(x.a)((function(e){return{routingButton:{marginLeft:"10%",marginTop:"20px"},routingButtonStop:{}}})),Je=function(e){var t=Ye(),a=Object(n.useContext)(I).routeMap,r=a.ArrivalLocation.coordinates,c=a.DestinationLocation.coordinates,i=Object(n.useState)(!1),s=Object(d.a)(i,2),o=s[0],l=s[1];var j=Object(n.useState)(),u=Object(d.a)(j,2),b=(u[0],u[1]);Object(n.useEffect)((function(){!function(e){var t=z.a.DomUtil.get("map");null!=t&&(t._leaflet_id=null)}();var e=z.a.map("map",{center:[(r[0]+c[0])/2,(r[1]+c[1])/2],zoom:13});navigator.geolocation.getCurrentPosition((function(e){b({lat:e.coords.latitude,lng:e.coords.longitude})})),z.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e),z.a.Routing.control({router:z.a.Routing.mapbox("pk.eyJ1IjoiY2hpcmFnamFqdSIsImEiOiJja3ViNG51bXIwa3Y0MnZudnI0cnRjaXN2In0.9vMp1GnxRyx6YhbCn2anAA"),waypoints:[z.a.latLng(r[1],r[0]),z.a.latLng(c[1],c[0])],routeWhileDragging:!0}).addTo(e),o&&e.locate({setView:!0,watch:!0}).on("locationfound",(function(t){var a=z.a.marker([t.latitude,t.longitude]).bindPopup("Your are here :)"),n=z.a.circle([t.latitude,t.longitude],t.accuracy/2,{weight:1,color:"blue",fillColor:"#cacaca",fillOpacity:.1});e.addLayer(a),e.addLayer(n),z.a.Routing.control({waypoints:[z.a.latLng(t.longitude,t.latitude),z.a.latLng(c[1],c[0])]})})).on("locationerror",(function(e){console.log(e),alert("Location access denied.")}))}),[r,c,o]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(_e,{}),Object(v.jsxs)("div",{class:"right-sidebar-container",children:[Object(v.jsx)("div",{id:"map"}),Object(v.jsx)("div",{className:t.routingButton,children:Object(v.jsx)(Z,{handleSubmit:function(){l(!0),navigator.geolocation.getCurrentPosition((function(e){r=[e.coords.longitude,e.coords.latitude]}))},children:"Start Routing"})}),Object(v.jsx)("div",{className:t.routingButton,children:Object(v.jsx)(Z,{handleSubmit:function(){l(!1)},children:"Stop Routing"})}),Object(v.jsx)(C,{})]})]})};D.a.defaults.withCredentials=!0;var Ge=function(){var e=Object(n.useContext)(I).loggedIn;return Object(v.jsxs)(s.a,{children:[Object(v.jsx)(_e,{}),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(o.b,{path:"/login",children:!0!==e?Object(v.jsx)(B,{}):Object(v.jsx)(o.a,{to:"/"})}),Object(v.jsx)(o.b,{path:"/",exact:!0,children:!0===e?Object(v.jsx)(be,{}):Object(v.jsx)(o.a,{to:"/login"})}),Object(v.jsx)(o.b,{path:"/signup",children:!0!==e?Object(v.jsx)(me,{}):Object(v.jsx)(o.a,{to:"/"})}),Object(v.jsx)(o.b,{path:"/posts",children:!0===e?Object(v.jsx)(fe,{}):Object(v.jsx)(o.a,{to:"/login"})}),Object(v.jsx)(o.b,{path:"/yourposts",children:!0===e?Object(v.jsx)(Se,{}):Object(v.jsx)(o.a,{to:"/login"})}),Object(v.jsx)(o.b,{path:"/filter",children:!0===e?Object(v.jsx)(Ve,{}):Object(v.jsx)(o.a,{to:"/login"})}),Object(v.jsx)(o.b,{path:"/routemap",children:!0===e?Object(v.jsx)(Je,{}):Object(v.jsx)(o.a,{to:"/"})})]})]})};i.a.render(Object(v.jsx)(P,{children:Object(v.jsx)(Ge,{})}),document.getElementById("root"))},89:function(e,t,a){e.exports={backdrop:"Modal_backdrop__1nQ5O",modal:"Modal_modal__GOR8x","slide-down":"Modal_slide-down__2I1oR"}}},[[187,1,2]]]);
//# sourceMappingURL=main.1fee3d37.chunk.js.map